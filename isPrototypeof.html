<script src="tinytest.js"></script>
<script>

// Syntax
// prototypeObj.isPrototypeOf(object)

// Parameters:
	// object

// Return value: true or false

// TypeError is thrown if prototypeObj is undefined or null

// Implementation:
// Will name prototype the prototypeObject & prototyped the object that will be created from the prototypeObject

function isPrototypeOf(prototype, prototyped) {
	var prototypedProto = Object.getPrototypeOf(prototyped);

	if (prototype === null || prototype === undefined) {
		throw new TypeError ("Prototype object is undefined or null");
	}

	if (prototypedProto === null) {
		return false;
	}
		// Base case
	if (prototypedProto ===  prototype) {
		 return true;

	} else {
	// Recursive case
	return isPrototypeOf(prototype, prototypedProto);
	}
}

tests({
  'Returns true if the prototype is in the first layer': function () {
		var canine = {
			bark: function() {
				console.log('bark');
			}
		};
		var dog = Object.create(canine);
    eq(isPrototypeOf(canine, dog), true);
  },

  'Return true if the prototype is in the chain for 2 number of layers': function () {
		var canine = {
		  bark: function() {
		    console.log('bark');
		  }
		};
		var dog = Object.create(canine);
		var myDog = Object.create(dog);
		eq(isPrototypeOf(canine, myDog) , true);
  },

	'Return true if the prototype is in the chain for any number of layers': function () {
		var canine = {
		  bark: function() {
		    console.log('bark');
		  }
		};
		var dog = Object.create(canine);
		var myDog = Object.create(dog);
		eq(isPrototypeOf(Object.prototype, myDog), true);
  },

  'Return false if the prototyped is null ': function () {
		var canine = {
			bark: function() {
				console.log('bark');
			}
		};
		var dog = Object.create(canine);
		var myDog = Object.create(dog);
		var empty = Object.create(null);
    eq(isPrototypeOf(dog, empty), false);
  },

	'It should throw a TypeError if prototypeObject is undefined or null': function() {
		var isTypeError = false;
    try {
      isPrototypeOf(null, {});
    } catch (e) {
      isTypeError = (e instanceof TypeError);
    }
		eq(isTypeError, true);
  }

});
</script>
